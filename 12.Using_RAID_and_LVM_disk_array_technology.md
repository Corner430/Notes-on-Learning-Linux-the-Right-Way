1. RAID 技术通过把多个硬盘设备组合成一个容量更大、安全性更好的磁盘阵列，并把数据切割成多个区段后分别存放在各个不同的物理硬盘设备上。**RAID 不仅降低了硬盘设备损坏后丢失数据的几率，还提升了硬盘设备的读写速度。**

2. 常用的 RAID 级别有 RAID 0、RAID 1、RAID 5、RAID 10 等。
- RAID 0 技术把多块物理硬盘设备（至少两块）通过硬件或软件的方式串联在一起，组成一个大的卷组，并将数据一次写入到各个物理硬盘中。**通俗来说，RAID 0 技术能够有效地提升硬盘数据的吞吐速度，但是不具有数据备份和错误修复能力。**

- **RAID 1 是将数据同时写入到多块硬盘设备上（可以将其视为数据的镜像或备份）**。当其中某一块硬盘发生故障后，一般会立即自动以**热交换**的方式来恢复数据的正常使用。

- **RAID 5 技术是把硬盘设备的数据奇偶校验信息保存到其他硬盘设备中。RAID 5 磁盘阵列组中数据的奇偶校验信息并不是单独保存到某一块硬盘设备中**，而是存储到除自身以外的其他每一块硬盘设备上，这样的好处是其中任何一设备损坏后不至于出现致命缺陷。

- **RAID 10 技术是RAID 1 + RAID 0技术得一个“组合体”。**RAID 10 技术需要**至少 4 块**硬盘来组建，其中先分别两两制作成 RAID 1 磁盘阵列，以保证数据的安全性；然后再对两个RAID 1 磁盘阵列实施 RAID 0 技术，进一步提高设备的读写速度。

3. 部署磁盘阵列
**`mdadm`（多设备管理器）是一个用于管理Linux中软件RAID（Redundant Array of Independent Disks，独立磁盘冗余阵列）的命令行工具**。软件RAID是一种通过将多个硬盘组合在一起以提供数据冗余和/或性能增强的方法。`mdadm` 允许用户创建、管理和监视这些软件RAID阵列。

以下是一些 `mdadm` 命令的常见用法和功能：
- **创建RAID阵列**：`mdadm` 允许你创建不同级别的RAID阵列，如RAID 0、RAID 1、RAID 5、RAID 6等。例如，要创建一个RAID 1镜像阵列，可以运行：
   ```
   mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sdX /dev/sdY
   ```

- **添加和删除设备**：你可以向现有RAID阵列添加新设备，或从阵列中删除故障的设备。例如，要将新设备添加到RAID 5阵列中，可以运行：
   ```
   mdadm --add /dev/md0 /dev/sdZ
   ```
   要从RAID 1阵列中删除设备，可以运行：
   ```
   mdadm --remove /dev/md0 /dev/sdX
   ```

- **监视RAID阵列**：`mdadm` 允许你监视RAID阵列的状态，以确保一切正常。你可以运行如下命令来查看RAID阵列的状态：
   ```
   mdadm --detail /dev/md0
   ```

- **故障恢复和替换设备**：当RAID设备发生故障时，`mdadm` 允许你替换故障设备，并执行恢复操作。例如，要替换故障的设备，可以运行：
   ```
   mdadm --manage /dev/md0 --fail /dev/sdX
   mdadm --manage /dev/md0 --remove /dev/sdX
   mdadm --manage /dev/md0 --add /dev/sdZ
   ```

- **停用和删除RAID阵列**：如果需要，你可以停用或删除RAID阵列。要停用RAID阵列，可以运行：
   ```
   mdadm --stop /dev/md0
   ```
   要删除RAID阵列，可以运行：
   ```
   mdadm --remove /dev/md0
   ```

`mdadm` 是一个强大的工具，但在使用之前需要小心谨慎，特别是在执行删除操作时，因为它可能导致数据丢失。建议在执行关键操作之前备份重要数据，以防发生意外情况。你可以使用 `man mdadm` 命令来查看更多 `mdadm` 的详细信息和命令选项。

4. 磁盘阵列 + 备份盘
RAID 10 磁盘阵列中最多允许 50% 的硬盘设备发生故障，但是存在这样一种极端情况，即同一 RAID 1 磁盘阵列中的硬盘设备若全部损坏，也会导致数据丢失。

因此，我们完全可以使用RAID 备份盘技术来预防这类事故。该技术的核心理念就是**准备一块足够大的硬盘，这块硬盘平时处于闲置状态，一旦 RAID 磁盘阵列中的硬盘出现故障后则会马上自动顶替上去。**

5. RAID 技术虽然能够有效地提高硬盘设备的读写速度以及数据的安全性，**但是在硬盘分好区或者部署为 RAID 磁盘阵列之后，再想修改硬盘分区大小就不容易了**。因此，我们可以使用 LVM 技术来解决这个问题。

**LVM（逻辑卷管理器）的直观理解参考原文，非常形象**。LVM技术是在硬盘分区和文件系统之间添加了一个逻辑层，它提供了一个抽象的卷组，可以把多块硬盘进行卷组合并。

6. 部署 LVM 时，需要逐个配置物理卷、卷组和逻辑卷。常用的 LVM 命令如下：

| 功能/命令 | 物理卷管理 | 卷组管理 | 逻辑卷管理 |
| :---: | :---: | :---: | :---: |
| 扫描 | `pvscan` | `vgscan` | `lvscan` |
| 建立 | `pvcreate` | `vgcreate` | `lvcreate` |
| 显示 | `pvdisplay` | `vgdisplay` | `lvdisplay` |
| 删除 | `pvremove` | `vgremove` | `lvremove` |
| 扩展 | | `vgextend` | `lvextend` |
| 缩小 | | `vgreduce` | `lvreduce` |

- [e2fsck: 用于检查第二扩展文件系统的完整性](https://wangchujiang.com/linux-command/c/e2fsck.html)
- `resize2fs`: 一个用于调整 ext2、ext3 和 ext4 文件系统大小的命令行工具。它用于扩展或缩小现有文件系统的大小，以适应不同的存储需求。

7. **LVM 还具备有“快照卷”功能。**
8. LVM 删除时，需要先备份信息，**之后依次删除逻辑卷、卷组、物理卷设备，这个顺序不可颠倒。**